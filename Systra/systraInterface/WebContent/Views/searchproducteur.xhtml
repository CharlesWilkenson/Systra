<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
	<ui:composition template="/Views/dashboards.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui">
	<ui:define name="contentdashboard2">
<h:head>

<title>
Rechercher Producteur
</title>
	<link href='http://fonts.googleapis.com/css?family=Patua+One' rel='stylesheet' type='text/css'/>
 	 <link rel="stylesheet" type="text/css" href="../resources/css/carousel.css" />
	 <link rel="icon" type="image/png" href="../logo/logosys.png" />
	 	 	 <style type="text/css">
	h3 {
	color:gray;
    font-family: 'Patua One';
	text-align: center;
	font-size: 30px;
	margin: auto;
	width:30%;
	text-align:center;	
	 margin-top:-10px;

}

label.error,
.required {
    font-size: 14px;
    color: red;
}
.form-controls {
    clear: both;
}

.previous-fieldset {
	display: none;
	float: left;
}
.next-fieldset {
	float: right;
},
a.next-fieldset,
a.previous-fieldset {
	color: #ccc;
}

.clear {
	clear: both;
}
.my-error-class {
    color:#FF0000;  /* red */
}
.my-valid-class {
    color:#00CC00; /* green */
}

* {box-sizing: border-box}
body {font-family: Verdana, sans-serif; margin:0}
.mySlides {display: none}
img {vertical-align: middle;}

/* Slideshow container */
.slideshow-container {
  max-width: 1000px;
  position: relative;
  margin: auto;
}

/* Next and previous buttons */
.prev, .next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  padding: 16px;
  margin-top: -22px;
  color: white;
  font-weight: bold;
  font-size: 18px;
  transition: 0.6s ease;
  border-radius: 0 3px 3px 0;
}

/* Position the "next button" to the right */
.next {
  right: 0;
  border-radius: 3px 0 0 3px;
}

/* On hover, add a black background color with a little bit see-through */
.prev:hover, .next:hover {
  background-color: rgba(0,0,0,0.8);
}

/* Caption text */
.text {
   color: rgba(93,84,240,0.5);
  font-size: 15px;
  padding: 8px 12px;
  position: absolute;
  width: 100%;
  text-align: center;
}

/* Number text (1/3 etc) */
.numbertext {
  color: #f2f2f2;
  font-size: 12px;
  padding: 8px 12px;
  position: absolute;
  top: 0;
}

/* The dots/bullets/indicators */
.dot {
  cursor: pointer;
  height: 20px;
  width: 130px;
  margin: 0 2px;
  background-color: rgba(93,84,240,0.5);background: -webkit-linear-gradient(left, rgba(0,168,255,0.5), rgba(185,0,255,0.5));
  background: -o-linear-gradient(left, rgba(0,168,255,0.5), rgba(185,0,255,0.5));
  background: -moz-linear-gradient(left, rgba(0,168,255,0.5), rgba(185,0,255,0.5));
  background: linear-gradient(left, rgba(0,168,255,0.5), rgba(185,0,255,0.5));;;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.16s ease;
  color:white;
}

.active, .dot:hover {
  background-color: #717171;
}



/* On smaller screens, decrease text size */
@media only screen and (max-width: 300px) {
  .prev, .next,.text {font-size: 11px}
}
		</style>
	</h:head>
     
<b:growl id="growl"
         globalOnly="true"
         showDetail="true"
         severity="info,warn"/>


<b:messages style="margin-left:190px;margin-right:140px;" id="messages"
            globalOnly="true"
            severity="error,fatal,info,warn"/>
       
	<h:body>	
	<h3>Modifier producteur</h3>
	<b:panel  title="Informations concernant le producteur" look="primary" style="width:80%;margin:auto" >
	
	
<b:form  horizontal="true" id="prodForm">
     <f:facet name="heading"> 
	      <b:iconAwesome name="fa-key" /> 
      <b:badge style="margin-left:10px; background-color:#5cb85c" value="#{connect.codeProd}"  />
 
   	</f:facet>
  
   	<b:column >
   	<b:well>
   	<b:panelGrid columns="2">
	<b:inputText colMd="8" labelColMd="4" label="Code prod" disabled="true" placeholder="Code du producteur" name="prodID" id="prodID"   value="#{connect.codeProd}" >
    	</b:inputText> 
	           	   
	        	<b:inputText colMd="8" labelColMd="4" label="Nom complet"  placeholder="Nom Complet " name="prodNomComplet" id="prodNomComplet"  uired-message="Champ null" value="#{connect.prodNom}" >
    	</b:inputText>   	 
                 
         
    <b:selectOneMenu  value="#{connect.prodSexe}" label="Sexe"  colMd="8" labelColMd="4">
 <f:selectItem itemLabel="Masculin" itemValue="Masculin"/>
                 <f:selectItem itemLabel="Feminin" itemValue="Feminin"/>
            </b:selectOneMenu>
            
       
            <b:inputText label="Telephone" colMd="8" labelColMd="4" placeholder="Telephone"  id="prodTel" name="prodTel" value="#{connect.prodTel}"   mask="9999-9999">
       
    	</b:inputText>  
  
       <!-- onclick="ajax:parcelleMB.Editprod()"  update="modalparcelle1" -->
    </b:panelGrid>
 
      <!-- action="#{producteurMB.Modifier()}" -->
		      

             
            
            
            </b:well>
            <b:buttonGroup>
              	  <b:commandButton action="#{producteurMB.Modifier()}" rendered="#{connect.prodEtat=='Actif' and request.isUserInRole('ADMIN') || request.isUserInRole('FOURNISSEUR')}" 
            look="primary"   icon-awesome="edit" value="Modifier"   size="md" tooltip="Modifier">
</b:commandButton>
    	
     <b:commandButton update="growl,messages,prodForm"
            look="primary" rendered="#{connect.prodEtat=='Passif' and request.isUserInRole('ADMIN') || request.isUserInRole('FOURNISSEUR')}"   value="Reactiver"   size="md" tooltip="Reactiver">

 <f:ajax execute="@form" listener="#{producteurMB.reactiverprod()}" ></f:ajax>
         
</b:commandButton>
            <b:commandButton value="Desactiver" update="growl,messages,prodForm" rendered="#{connect.prodEtat=='Actif' and request.isUserInRole('ADMIN') || request.isUserInRole('FOURNISSEUR')}"
                icon="remove" look="primary" size="md"  tooltip="Desactiver">
            
       <f:ajax execute="@form" listener="#{producteurMB.desactiverprod()}" ></f:ajax>
             
             </b:commandButton> 
            
            <b:commandButton value="Voir parcelle"  rendered="#{ request.isUserInRole('ADMIN')}"
            icon-awesome="search" look="primary" size="md"  tooltip="Voir parcelle"
            ajax="true"   
            
            update="listparcelle"
           	oncomplete="$('.modaleListparcelleByPro').modal();return false;">      
            </b:commandButton>
            
             <b:commandButton value="Ajouter"  look="primary"  rendered="#{request.isUserInRole('ADMIN')}"
             size="md"  tooltip="Ajouter une parcelle"
               action="#{producteurMB.addparcelle()}">
             <b:iconAwesome name="fa-plus" size="1x"></b:iconAwesome>
             
             </b:commandButton></b:buttonGroup>
    </b:column> 
       	<script type="text/javascript" src="../validation/jquery-1.11.1.js"></script>
	<script type="text/javascript" src="../validation/jquery.validate.js"></script>
<script type="text/javascript" src="../validation/valid.js"/>       
</b:form>	</b:panel>
	

<b:form id="listparcelle">
<b:modal id="listparcelleByPro" close-on-escape="true" backdrop="false" styleClass="modaleListparcelleByPro"  title="Liste Parcelle"   size="modal-lg">
   <b:panel id="formparc">
    	<f:facet name="heading">
    <b:badge rendered="#{producteurMB.listparcbyprod().size()==1}" style="margin-left:10px; background-color:#5cb85c" value="#{producteurMB.prodNomComplet} detient #{producteurMB.listparcbyprod().size()} parcelle" />
     <b:badge rendered="#{producteurMB.listparcbyprod().size()>1}" style="margin-left:10px; background-color:#5cb85c" value="#{producteurMB.prodNomComplet} detient #{producteurMB.listparcbyprod().size()} parcelles" /> 
 </f:facet>
	  <b:column span="12">
			<b:dataTable id="table_fourn" value="#{producteurMB.listparcbyprod2()}" var="par" excel="true"
                 csv="true"
                 pdf="true"
                 copy="true"
                 print="true">
               <b:dataTableColumn value="#{par.parcelleId}" label="ID Parcelle" />
			  <b:dataTableColumn value="#{par.parcelleCommune}" label="Commune"/>
			   <b:dataTableColumn value="#{par.parcelleSectioncommunale}" label="Section C."/>
			   <b:dataTableColumn value="#{par.parcelleRegimeFoncier}" label="Regime"/>
			   <b:dataTableColumn value="#{par.parcelleTypeCulture}" label="Type Culture"/>
			   		   <b:dataTableColumn label="Action">
			   <b:commandButton value="Details" size="md"  oncomplete="$('.info').modal();return false;">
                                                  
<b:iconAwesome name="fa-search"  size="2x"></b:iconAwesome>
<f:param name="idparcelle" value="#{par.parcelleId}"></f:param> 
 <f:ajax execute="@form"  render="modalparcelle" listener="#{parcelleMB.searchparcelle()}" />
</b:commandButton>			   
			   </b:dataTableColumn>
			</b:dataTable>
			
			</b:column>
			</b:panel>
			</b:modal>
	</b:form>
	

			<b:form id="modalparcelle" horizontal="true">	
	
			<b:modal id="amodalViewUser" close-on-escape="true" backdrop="false" size="modal-lg" title="Toutes les informations concernant cette parcelle"  styleClass="info" >
<b:tabView pills="true" tabPosition="top" contentStyle="border-right: 1px solid #ddd;border-left: 1px solid #ddd;border-top: 1px solid #ddd;padding:10px">
    <b:tab title="Identification">

<b:panel style="size:200px" look="primary" >
              
              <f:facet name="heading">
     <i style="padding-right:20px" /> <div class="text">Identification</div>
	</f:facet>
           <b:column >
            <b:progressBar  renderCaption="false" animated="false" value="20"  min="0" max="100" tooltip="Identification" severity="info" visible="md..." >
            </b:progressBar>
 
           <b:well >
<b:panelGrid columns="2">
			
			
    			
				<b:inputText colMd="8" labelColMd="4" label="Nom complet"  placeholder="Nom " name="nom" id="nom"  required-message="Champ null" value="#{parcelleMB.parcnomprod}" >
    	</b:inputText> 
	           	   
	  	 	<b:inputText colMd="8" labelColMd="4" value="#{parcelleMB.prodSexe}" label="Sexe"  >
    	</b:inputText> 
                 
         
 
            
       
            <b:inputText label="Telephone" colMd="8" labelColMd="4" placeholder="Telephone"  id="tel" name="tel" value="#{parcelleMB.prodTelephone}"   mask="9999-9999">
       
    	</b:inputText>      
	           	 
	           	 
	           	 <b:inputText label="Code MARNDR" placeholder="Code MARNDR" colMd="8" labelColMd="4" value="#{parcelleMB.parcMarndr}"  >
    			</b:inputText> 
    			
    			
     </b:panelGrid></b:well></b:column></b:panel>
 
</b:tab>

  <b:tab title="Localisation">
<b:panel style="size:200px" look="primary">
			         <f:facet name="heading">
     <i style="padding-right:20px" /><div class="text">Localisation</div>
	</f:facet>
					<b:column >
		
	                 <b:progressBar  renderCaption="false" animated="false" value="40" min="0" max="100" tooltip="Localisation" severity="info" visible="md..." />
 
	                 <b:well >
                     <b:panelGrid columns="2">
		               	

        
                             <b:inputText colMd="8" labelColMd="4" class="form-control" label="Superficie" mask="decimal" placeholder="Superficie" name="superficie" value="#{parcelleMB.parcSuperficie}" >
    			</b:inputText>
				   
			
	  		    
				    
						    <b:inputText colMd="8" labelColMd="4" label="Commune" value="#{parcelleMB.parcCommune}" >
    			</b:inputText>
									
	           	 <b:inputText label="Latitude1" colMd="8" labelColMd="4" placeholder="Latitude 1" name="lat1" mask="decimal" value="#{parcelleMB.parcPointLatitude1}"  >
	           	</b:inputText>
    			 	
	
    			 
    				 	 <b:inputText colMd="8" labelColMd="4" label="Section Comm." class="form-control"  id="localite" name="sectionCom" value="#{parcelleMB.parcSectioncommunale}"  >
	           	</b:inputText>
    									
	           	 <b:inputText colMd="8" labelColMd="4" label="Longitude 1" placeholder="Longitude 1" name="long1" mask="decimal" value="#{parcelleMB.parcPointLongitude1}" >
    			</b:inputText>
						
		
	           	 <b:inputText colMd="8" labelColMd="4" class="form-control" label="Localite" placeholder="Localite" name="localite" value="#{parcelleMB.parcLocalite}" >
    			</b:inputText>
							
								</b:panelGrid></b:well></b:column></b:panel>
  
</b:tab>

  <b:tab title="Preparation">
 <b:panel style="size:200px" look="primary">
          <f:facet name="heading">
     <i style="padding-right:20px" />  <div class="text">Preparation</div>
	</f:facet>
						        <b:column >
						        <b:progressBar renderCaption="false" animated="false" value="60" min="0" max="100" tooltip="Preparation" severity="info" visible="md..." />
 
						        <b:well >
                     <b:panelGrid columns="2">
							     		
         
            
          <b:inputText value="#{parcelleMB.parcRegimeFoncier}" colMd="8" labelColMd="4" label="Regime Foncier" >
    	</b:inputText> 
          

            
             <b:inputText value="#{parcelleMB.parcTypeCulture}" colMd="8" labelColMd="4" label="Type culture">
    	</b:inputText>
                   
  
            
               <b:inputText value="#{parcelleMB.parcFertilisationChimique}" colMd="8" labelColMd="4" label="Fertilisation chimique">
    	</b:inputText>
            
   
            
             <b:inputText id="ferto" value="#{parcelleMB.parcFertilisationOrganique}" colMd="8" labelColMd="4" label="fertilisation organique">
    	</b:inputText>
          
         
            
                <b:inputText id="parcir" value="#{parcelleMB.parcParcIrrigue}" colMd="8" labelColMd="4" label="Parcelle irriguee">
    	</b:inputText>
          
  
            
              <b:inputText id="typeau" value="#{parcelleMB.parcTypeEau}" label="Type d'eau" colMd="8" labelColMd="4">
    	</b:inputText>
              </b:panelGrid>
		         </b:well> </b:column>  
          </b:panel>


</b:tab>

  <b:tab title="Risque">
	<b:panel  style="size:200px" look="primary">
				         <f:facet name="heading">
     <i style="padding-right:20px" /><div class="text">Risque</div>
	</f:facet>
        	<b:column>
        	<b:progressBar renderCaption="false" animated="false" value="80" min="0" max="100" tooltip="Risque" severity="info" visible="md..." />
 
        	<b:well >
		    <b:panelGrid columns="2" >
		             
				                 <b:inputText value="#{parcelleMB.parcPresenceElevage}" label="Presence evlevage" colMd="8" labelColMd="4">
    	                         </b:inputText>

				     
						 <b:inputText label="Type elevage" colMd="8" labelColMd="4" value="#{parcelleMB.parcTypeElevage}">
    	                         </b:inputText>
			
				       
				        <b:inputText colMd="8" labelColMd="4" label="Presence latrine"  value="#{parcelleMB.parcPresenceLatrine}">
    	                         </b:inputText>
								
				    
				           
				            <b:inputText label="Plante haute" colMd="8" labelColMd="4" class="form-control"  value="#{parcelleMB.parcPlanteHote}">
    	                         </b:inputText>
			  
				
				         
				             <b:inputText label="Traitement phytosanitaire" colMd="8" labelColMd="4"  value="#{parcelleMB.parcTypeTraitrementPhytosanitaire}">
    	                         </b:inputText>
				            
				           
				       <b:inputText label="Probleme inondation" colMd="8" labelColMd="4" value="#{parcelleMB.parcProblemeInondation}">
    	                         </b:inputText>
				            
				         
				            
				             <b:inputText label="Frequence innondation" colMd="8" labelColMd="4"  value="#{parcelleMB.parcFrequenceInondation}" >
    	                         </b:inputText>
				            </b:panelGrid>
				         </b:well> </b:column>
				          </b:panel>
  
</b:tab>

  <b:tab title="Production">
 <b:panel  style="size:200px" look="primary">
 			         <f:facet name="heading">
     <i style="padding-right:20px" /><div class="text">Production</div>
	</f:facet>
        	<b:column>
        	<b:progressBar renderCaption="false" animated="false" value="100" min="0" max="100" tooltip="Production" severity="info" visible="md..." />
 
        	<b:well >
        	<b:panelGrid columns="2" >
		              
			           	 <b:inputText label="Age plantation" class="form-control" colMd="8" labelColMd="4" name="agePlant" placeholder="Age plantation" mask="integer" value="#{parcelleMB.parcAgePlantation}" >
			           	</b:inputText>
   			
   			
								
			           	 <b:inputText label="Manguier sur la parcelle" class="form-control" colMd="8" labelColMd="4" name="manguierSP" placeholder="Manguier sur la parcelle" mask="integer" value="#{parcelleMB.parcNbreManguier}"  >
			           	</b:inputText>
				   
			           	 <b:inputText label="Manguier en Production" class="form-control"  name="manguierEP" colMd="8" labelColMd="4" placeholder="Manguier en Production" mask="integer" value="#{parcelleMB.parcNbreManguierEnProduction}"  >
			           	</b:inputText>
				    
				        
				       
			           	 <b:inputText class="form-control" label="Production annuelle" name="productionAn" colMd="8" labelColMd="4"  placeholder="Production annuelle" mask="integer" value="#{parcelleMB.parcProductionAnnuelleMangue}"  >
			           </b:inputText>
			       
		
           <b:inputText colMd="8" labelColMd="4" label="Commercialisation" class="form-control" id="comm" value="#{parcelleMB.parcCommercialisation}" >
    	                         </b:inputText>
            </b:panelGrid>
            
           </b:well> 
           
           </b:column>
     
            </b:panel>
  
</b:tab>
</b:tabView>


</b:modal>

</b:form>
 </h:body>
 
   
</ui:define>
</ui:composition>
	